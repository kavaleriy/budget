:scss
  // init colors
  $yellow: #ffd304;
  $dark-blue: #0c2231;
  $black: #000000;

  /* ===== Styles for select2 ===== */
  .select2-drop{
      border-radius: 0;
      background: $yellow;
      .select2-search{
        input{
          border: 1px solid $black;
          background: $yellow;
        }
      }
      .select2-results{
        margin: 2px 4px 2px 0px;
        .select2-no-results{
          height: 0px;
          background: $yellow;
        }
        .select2-searching{
          background: $yellow;
        }
        .select2-highlighted{
          background: $black;
          color: $yellow;
        }
      }
  }
  .select2-drop-active{
    border: 1px solid $black;
  }
  /* ===== Main section. Begin ===== */
  .main-section {
    margin-top: -73px;
    height: 766px;
    .clouds-block {
      background: url('assets/new_design/cloud.svg');
      background-repeat: no-repeat;
      height: 733px;
      position: absolute;
      width: 100%;
    }
    .icons-block {
      position: relative;
      top: 80px;
      margin: 0 150px;
      .link-icons {
        width: 100%;
        padding: 5px 15px;
      }
      .first-row {
        padding-left: 10px;
      }
      .second-row {
        padding-left: 70px;
      }
      .link-icons .icons-wrapper {
        .pig-block, .list-block,
        .prozorro-block, .calendar-block,
        .repair-block, .folders-block,
        .edata-block, .sankey-block {
          display: inline-block;
          position: relative;
          padding-right: 25px;
          opacity: .5;
        }
        .active {
          opacity: .9;
          > div {
            .tooltip {
              top: 83px !important;
            }
          }
        }
        .pig-block,
        .list-block,
        .prozorro-block,
        .calendar-block,
        .repair-block,
        .folders-block,
        .edata-block,
        .sankey-block {
          &:hover,
          &:focus {
            opacity: .9;
            cursor: pointer;
          }
        }
        .pig-block .pig-icon,
        .list-block .list-icon,
        .prozorro-block .prozorro-icon,
        .calendar-block .calendar-icon,
        .repair-block .repair-icon,
        .folders-block .folders-icon,
        .edata-block .edata-icon,
        .sankey-block .sankey-icon {
          width: 88px;
          height: 88px;
          border-radius: 50%;
          border: 1px solid $dark-blue;
        }
        .pig-block .pig-icon .pig,
        .list-block .list-icon .list,
        .prozorro-block .prozorro-icon .prozorro,
        .calendar-block .calendar-icon .calendar,
        .repair-block .repair-icon .repair,
        .folders-block .folders-icon .folders,
        .edata-block .edata-icon .edata,
        .sankey-block .sankey-icon .sankey {
          width: 78%;
          margin: 11%;
        }
        .prozorro-block .prozorro-icon .prozorro {
          width: 86%;
          margin: 7%;
        }
        .folders-block .folders-icon .folders {
          width: 74%;
          margin: 6% 13% 20%;
        }
        .calendar-block .calendar-icon .calendar {
          width: 78%;
          margin: 16% 8% 10% 15%;
        }
        .edata-block .edata-icon .edata {
          width: 86%;
          margin: 34% 7%;
        }
        .sankey-block .sankey-icon .sankey {
          width: 72%;
          margin: 10% 14% 18%;
        }
        .list-block {
          top: 19px;
        }
        .calendar-block {
          top: 18px;
        }
        .repair-block {
          top: 33px;
        }
        .folders-block {
          top: 5px;
        }
        .edata-block {
          top: 37px;
        }
        .pig-block .pig-icon .vertical-line,
        .list-block .list-icon .vertical-line,
        .prozorro-block .prozorro-icon .vertical-line,
        .calendar-block .calendar-icon .vertical-line,
        .repair-block .repair-icon .vertical-line,
        .folders-block .folders-icon .vertical-line,
        .edata-block .edata-icon .vertical-line,
        .sankey-block .sankey-icon .vertical-line {
          width: 100%;
          height: 250px;
          border-left: 2px solid $dark-blue;
          position: relative;
          left: 50%;
          opacity: .5;
          top: 87px;
        }
        .pig-block .pig-icon a.icon-tooltip + .tooltip > .tooltip-arrow,
        .list-block .list-icon a.icon-tooltip + .tooltip > .tooltip-arrow,
        .prozorro-block .prozorro-icon a.icon-tooltip + .tooltip > .tooltip-arrow,
        .calendar-block .calendar-icon a.icon-tooltip + .tooltip > .tooltip-arrow,
        .repair-block .repair-icon a.icon-tooltip + .tooltip > .tooltip-arrow,
        .folders-block .folders-icon a.icon-tooltip + .tooltip > .tooltip-arrow,
        .edata-block .edata-icon a.icon-tooltip + .tooltip > .tooltip-arrow,
        .sankey-block .sankey-icon a.icon-tooltip + .tooltip > .tooltip-arrow {
          display: none;
        }
        .pig-block .pig-icon a.icon-tooltip + .tooltip > .tooltip-inner,
        .list-block .list-icon a.icon-tooltip + .tooltip > .tooltip-inner,
        .prozorro-block .prozorro-icon a.icon-tooltip + .tooltip > .tooltip-inner,
        .calendar-block .calendar-icon a.icon-tooltip + .tooltip > .tooltip-inner,
        .repair-block .repair-icon a.icon-tooltip + .tooltip > .tooltip-inner,
        .folders-block .folders-icon a.icon-tooltip + .tooltip > .tooltip-inner,
        .edata-block .edata-icon a.icon-tooltip + .tooltip > .tooltip-inner,
        .sankey-block .sankey-icon a.icon-tooltip + .tooltip > .tooltip-inner {
          background-color: $yellow;
          color: $black;
          text-transform: uppercase;
          border-radius: 0;
          font-weight: 800;
          opacity: 1;
        }
      }
    }
    .town-block {
      background: url('assets/new_design/main.svg');
      background-repeat: no-repeat;
      width: 100%;
      top: 320px;
      height: 488px;
      position: absolute;
    /*border: 1px solid red;*/
    }
    .wlines {
      top: -126px;
    }
    .row {
      margin: 0 10.68814%;
      position: relative;
      top: 315px;
    }
    .titles-blocks {
      .icons {
        display: inline-flex;
        padding: 0;
        top: -325px;
        .official {
          margin-left: 70px;
        }
        .official,
        .community {
          margin: 0 70px;
          padding: 0;
          .title {
            width: 185px;
            padding: 0;
            color: #000;
            > p {
              font-family: 'Lato', sans-serif;
              font-size: 18px;
              font-weight: 400;
              text-transform: uppercase;
              text-align: center;
              background: $yellow;
              margin: 0;
            }
          }
          .icon {
            border: 2px solid transparent;
            padding: 0;
            width: 155px;
            height: 155px;
            border-radius: 50%;
            margin: 0 15px 10px;
            background: $yellow;
            > img {
              margin: 10% 14% 18%;
              width: 72%;
              height: 72%;
            }
          }
          &:hover .icon,
          &:focus .icon {
            border: 2px solid $dark-blue;
          }
        }
      }
      .titles {
        top: -556px;
        .main-title {
          padding: 0;
          width: 100%;
          height: auto;
          background: $yellow;
          > p {
            font-family: 'Lato', sans-serif;
            font-size: 43px;
            margin: 0;
            text-align: center;
          }
        }
        .text {
          margin-bottom: 107px;
          margin-top: 95px;
          padding: 0;
          > p {
            font-family: 'Lato', sans-serif;
            font-style: italic;
            font-size: 26px;
            text-align: right;
            margin: 0;
          }
        }
        .button-search-town {
          padding: 2px;
          width: 330px;
          height: 70px;
          float: right;
          .select2-dropdown-open .select2-choice{
            box-shadow: none;
          }
          .select2-container{
            height: 100%;
            &:focus{
              outline: none;
            }
            a.select2-choice{
              height: 100%;
              color: $yellow !important;
              background: $black;
              border-radius: 0;
              border: 1px solid $black;
              &:focus{
                outline: none;
              }
              #select2-chosen-1.select2-chosen{
                padding-top: 20px;
                height: 100%;
                font-size: 40px;
              }
              span.select2-arrow{
                width: 67px;
                border-radius: 0;
                background: $yellow;
                border: 2px solid $black;
                color: $black;
                &:before{
                  right: 3px;
                  top: 17px;
                  font-size: 50px;
                  font-family: FontAwesome;
                  content: "\f002";
                  position: absolute;
                  display: inline-block;
                  padding-right: 3px;
                  vertical-align: middle;
                }
                b{
                  display: none;
                }
              }
            }
          }
        }
      }
    }
  }
  /* ===== Main section. End ===== */
  /* ===== Media. Begin ===== */
  @media (min-width: 1666px) and (max-width: 2240px) {
    .main-section {
      height: 808px;
      .clouds-block {
        background-position: -925px 175px;
        background-size: 3265px auto;
        height: 765px;
      }
      .town-block {
        background-position: -1045px 0;
        background-size: 3265px auto;
      }
      .titles-blocks .titles {
        padding: 0 100px;
      }
      .row {
        margin: 0 8%;
        top: 387px;
      }
      .icons-block .link-icons .icons-wrapper {
        .pig-block .pig-icon .vertical-line,
        .list-block .list-icon .vertical-line,
        .prozorro-block .prozorro-icon .vertical-line,
        .calendar-block .calendar-icon .vertical-line,
        .repair-block .repair-icon .vertical-line,
        .folders-block .folders-icon .vertical-line,
        .edata-block .edata-icon .vertical-line,
        .sankey-block .sankey-icon .vertical-line {
          height: 350px;
          top: 87px;
        }
      }
    }
  }
  @media all and (max-width: 1665px) {
    .main-section {
      .clouds-block {
        background-position: -1050px 215px;
        background-size: 2508px auto;
      }
      .town-block {
        background-position: -870px 0;
        background-size: 2500px auto;
      }
    }
  }
  @media (min-width: 1320px) and (max-width: 1410px) {
    .main-section {
      .row {
        margin: 0 6%;
      }
      .titles-blocks .titles {
        padding: 0 0 0 5%;
      }
    }
  }
  @media (min-width: 1198px) and (max-width: 1319px) {
    .main-section {
      .row {
        margin: 0 2%;
      }
      .titles-blocks .titles {
        padding: 0 0 0 4%;
      }
      .icons-block {
        margin: 0 50px;
      }
    }
  }
  @media (min-width: 1098px) and (max-width: 1199px) {
    .main-section {
      .row {
        margin: 0 1%;
      }
      .titles-blocks .titles {
        padding: 0 0 0 5%;
      }
      .icons-block {
        margin: 0 50px;
      }
      .titles-blocks .titles .main-title > p {
        font-size: 38px;
      }
    }
  }
  @media (min-width: 960px) and (max-width: 1097px) {
    .main-section {
      .icons-block {
        margin: 0 30px;
      }
      .titles-blocks .titles .main-title > p {
        font-size: 33px;
      }
      .row {
        margin: 0;
      }
      .titles-blocks .titles {
        padding: 0 0 0 10%;
        .text {
          margin: 95px 0;
        }
      }
      .icons-block {
        .first-row {
          margin: 0;
        }
        .second-row {
          padding-left: 60px;
        }
      }
    }
  }
  @media (min-width: 768px) and (max-width: 959px) {
    .main-section {
      .icons-block, .row {
        margin: 0;
      }
      .titles-blocks .titles .main-title {
        height: auto;
        > p {
          font-size: 31px;
        }
      }
      .icons-block {
        .first-row {
          margin: 0;
        }
        .second-row {
          padding-left: 60px;
        }
      }
      .titles-blocks .titles {
        padding: 0 0 0 70px;
        .text {
          margin: 105px 0;
        }
      }
    }
  }
  @media (min-width: 820px) and (max-width: 919px) {
    .main-section .titles-blocks .titles {
      padding: 0 0 0 110px;
      .main-title > p {
        font-size: 25px;
      }
      .button {
        width: 290px;
        .try > p {
          font-size: 3rem;
          margin: auto 0;
          padding: 0;
        }
      }
      .main-title {
        height: 80px;
      }
      .text {
        margin: 115px 0;
      }
    }
  }
  @media (min-width: 768px) and (max-width: 819px) {
    .main-section .titles-blocks .titles {
      padding: 0 0 0 150px;
      .main-title > p, .text > p {
        font-size: 1.3em;
        padding: 5px;
      }
      .button {
        width: 230px;
        .try {
          > p {
            font-size: 1.7em;
            margin: .65em 0 .65em .3em;
          }
          .icon-block > i {
            font-size: 40px;
            margin: 10px;
          }
        }
      }
    }
  }
  @media (min-width: 450px) and (max-width: 767px) {
    .main-section {
      .titles-blocks .titles {
        top: -400px;
      }
      .icons-block {
        display: none;
      }
      .titles-blocks {
        .icons {
          top: 90px;
          .community {
            margin-left: 40px;
            margin-right: 0;
            a {
              .icon {
                float: left;
              }
              .title {
                float: left;
              }
            }
          }
          .official {
            margin-right: 40px;
            margin-left: 0;
            a {
              .icon {
                float: right;
              }
              .title {
                float: right;
              }
            }
          }
        }
        .titles {
          .main-title {
            //height: 100px;
            height: auto;
            padding: 10px 5px;
            p {
              //font-size: 32px;
              font-size: 3rem;
            }
          }
          .text {
            margin-top: 50px;
            margin-bottom: 320px;
            > p {
              text-align: center;
            }
          }
          .button {
            margin: 0 auto;
            float: none;
            display: table;
          }
        }
      }
      .row {
        margin: 0;
        padding: 0;
      }
    }
    .map-section .container .map-title-block,
    .news-section .container .news-title-block,
    .map-section .container .map-title-block .map-title,
    .news-section .container .news-title-block .news-title {
      padding: 0;
    }
    .map-section .container .map-title-block .map-title > p,
    .news-section .container .news-title-block .news-title > p {
      font-size: 32px;
      padding: 0 90px;
    }
    .map-section .container .map-title-block .map-title > hr,
    .news-section .container .news-title-block .news-title > hr {
      width: 45%;
    }
    .map-section {
      top: -27px;
      position: relative;
      .container .map-block {
        padding: 0;
      }
    }
  }
  @media (min-width: 321px) and (max-width: 449px) {
    .main-section {
      margin-top: -123px;
      .clouds-block {
        top: -73px;
      }
      .town-block {
        top: 263px;
      }
      .titles-blocks .titles {
        top: -400px;
      }
      .icons-block {
        display: none;
      }
      .titles-blocks {
        .icons {
          top: 50px;
          .community {
            width: calc(50% - 15px);
            margin-left: 15px;
            margin-right: 0;
            a {
              .icon {
                width: 145px;
                height: 145px;
                float: left;
                margin: 0 calc((100% - 145px)/2) 10px;
              }
              .title {
                width: 100%;
                float: left;
                padding: 0 15px;
                p {
                  padding: 0 15px;
                }
              }
            }
          }
          .official {
            width: calc(50% - 15px);
            margin-right: 15px;
            margin-left: 0;
            a {
              .icon {
                width: 145px;
                height: 145px;
                float: right;
                margin: 0 calc((100% - 145px)/2) 10px;
              }
              .title {
                width: 100%;
                float: right;
                padding: 0 15px;
                p {
                  padding: 0 15px;
                }
              }
            }
          }
        }
        .titles {
          .main-title {
            height: auto;
            padding: 10px 5px;
            p {
              font-size:2.4rem;
            }
          }
          .text {
            margin-top: 3rem;
            margin-bottom: 35.5rem;
            > p {
              text-align: center;
              font-size: 2rem;
            }
          }
          .button {
            width: 100%;
            margin: 0 auto;
            float: none;
            display: table;
            .try {
              > p {
                font-size: 3.8rem;
              }
            }
          }
        }
      }
      .row {
        margin: 0;
        padding: 0;
      }
    }
    .map-section .container .map-title-block,
    .news-section .container .news-title-block,
    .map-section .container .map-title-block .map-title,
    .news-section .container .news-title-block .news-title {
      padding: 0;
    }
    .map-section .container .map-title-block .map-title > p,
    .news-section .container .news-title-block .news-title > p {
      font-size: 32px;
      padding: 0 90px;
    }
    .map-section .container .map-title-block .map-title > hr,
    .news-section .container .news-title-block .news-title > hr {
      width: 45%;
    }
    .map-section {
      top: -27px;
      position: relative;
      .container .map-block {
        padding: 0;
      }
    }
  }
  @media (max-width: 320px) {
    .main-section {
      margin-top: -123px;
      .clouds-block {
        top: -73px;
      }
      .town-block {
        top: 253px;
      }
      .titles-blocks .titles {
        top: -400px;
      }
      .icons-block {
        display: none;
      }
      .titles-blocks {
        .icons {
          top: 30px;
          .community {
            width: calc(50% - 15px);
            margin-left: 15px;
            margin-right: 0;
            a {
              .icon {
                width: 145px;
                height: 145px;
                float: left;
                margin: 0 calc((100% - 145px)/2) 10px;
              }
              .title {
                width: 100%;
                float: left;
                p {
                  padding: 0 15px;
                }
              }
            }
          }
          .official {
            width: calc(50% - 15px);
            margin-right: 15px;
            margin-left: 0;
            a {
              .icon {
                width: 145px;
                height: 145px;
                float: right;
                margin: 0 calc((100% - 145px)/2) 10px;
              }
              .title {
                width: 100%;
                float: right;
                p {
                  padding: 0 15px;
                }
              }
            }
          }
        }
        .titles {
          .main-title {
            height: auto;
            padding: 10px 5px;
            p {
              font-size: 2.4rem;
            }
          }
          .text {
            margin-top: 3rem;
            margin-bottom: 35.5rem;
            > p {
              text-align: center;
              font-size: 1.8rem;
            }
          }
          .button {
            width: 100%;
            margin: 0 auto;
            float: none;
            display: table;
            .try {
              > p {
                font-size: 3.1rem;
                padding: 7px 0;
                margin: 2px 0 3px 10px;
              }
              .icon-block {
                i {
                  font-size: 5.5rem;
                  margin: .43rem .53rem;
                }
              }
            }
          }
        }
      }
      .row {
        margin: 0;
        padding: 0;
      }
    }
    .map-section .container .map-title-block,
    .news-section .container .news-title-block,
    .map-section .container .map-title-block .map-title,
    .news-section .container .news-title-block .news-title {
      padding: 0;
    }
    .map-section .container .map-title-block .map-title > p,
    .news-section .container .news-title-block .news-title > p {
      font-size: 32px;
      padding: 0 90px;
    }
    .map-section .container .map-title-block .map-title > hr,
    .news-section .container .news-title-block .news-title > hr {
      width: 45%;
    }
    .map-section {
      top: -27px;
      position: relative;
      .container .map-block {
        padding: 0;
      }
    }
  }
  /* ===== Media. End ===== */

.main-section
  .clouds-block
  .icons-block
    .col-xs-12.col-sm-5.link-icons.first-row
      .icons-wrapper
        .pig-block
          .pig-icon
            %a.icon-tooltip{}
            .vertical-line
        .list-block
          .list-icon
            %a.icon-tooltip{}
            .vertical-line
        .prozorro-block
          .prozorro-icon
            %a.icon-tooltip{}
            .vertical-line
        .calendar-block
          .calendar-icon
            %a.icon-tooltip{}
            .vertical-line
    .col-xs-12.col-sm-5.link-icons.second-row
      .icons-wrapper
        .repair-block
          .repair-icon
            %a.icon-tooltip{}
            .vertical-line
        .folders-block
          .folders-icon
            %a.icon-tooltip{}
            .vertical-line
        .edata-block
          .edata-icon
            %a.icon-tooltip{}
            .vertical-line
        .sankey-block
          .sankey-icon
            %a.icon-tooltip{}
            .vertical-line
  .town-block
  .icons-block.wlines
    .col-xs-12.col-sm-5.link-icons.first-row
      .icons-wrapper
        .pig-block
          .pig-icon
            %a.icon-tooltip{"data-html" => "true", "data-placement" => "bottom", "data-toggle" => "tooltip", :href => show_pages_path("Budget"), :title => t('new_design.home_page.tooltips_title.visualisation_budget')}
              = image_tag('new_design/icons/!icon1.png', class: 'img-responsive pig')
        .list-block
          .list-icon
            %a.icon-tooltip{"data-html" => "true", "data-placement" => "bottom", "data-toggle" => "tooltip", :href => show_pages_path("bud_proc"), :title => t('public.towns.portfolio.pub_budget')}
              = image_tag('new_design/icons/!icon3.png', class: 'img-responsive list')
        .prozorro-block
          .prozorro-icon
            %a.icon-tooltip{"data-html" => "true", "data-placement" => "bottom", "data-toggle" => "tooltip", :href => "http://bi.prozorro.org/sense/app/fba3f2f2-cf55-40a0-a79f-b74f5ce947c2/sheet/HbXjQep/state/analysis", :title => t('new_design.home_page.tooltips_title.prozorro')}
              = image_tag('new_design/icons/!icon5.png', class: 'img-responsive prozorro')
        .calendar-block
          .calendar-icon
            %a.icon-tooltip{"data-html" => "true", "data-placement" => "bottom", "data-toggle" => "tooltip", :href => show_pages_path("budget_cal"), :title => t('new_design.home_page.tooltips_title.budget_calendar')}
              = image_tag('new_design/icons/!calendar.svg', class: 'img-responsive calendar')
    .col-xs-12.col-sm-5.link-icons.second-row
      .icons-wrapper
        .repair-block
          .repair-icon
            %a.icon-tooltip{"data-html" => "true", "data-placement" => "bottom", "data-toggle" => "tooltip", :href => show_pages_path("budget_at_map"), :title => t('new_design.home_page.tooltips_title.repairs_map')}
              = image_tag('new_design/icons/!icon2.png', class: 'img-responsive repair')
        .folders-block
          .folders-icon
            %a.icon-tooltip{"data-html" => "true", "data-placement" => "bottom", "data-toggle" => "tooltip", :href => show_pages_path("bud_sys_ua"), :title => t('new_design.home_page.tooltips_title.documents')}
              = image_tag('new_design/icons/!icon4.png', class: 'img-responsive folders')
        .edata-block
          .edata-icon
            %a.icon-tooltip{"data-html" => "true", "data-placement" => "bottom", "data-toggle" => "tooltip", :href => "http://spending.gov.ua/", :title => t('new_design.home_page.tooltips_title.e_data')}
              = image_tag('new_design/icons/!icon6.png', class: 'img-responsive edata')
        .sankey-block
          .sankey-icon
            %a.icon-tooltip{"data-html" => "true", "data-placement" => "bottom", "data-toggle" => "tooltip", :href => show_pages_path("kpi"), :title => t('new_design.home_page.tooltips_title.key_figures')}
              = image_tag('new_design/icons/!icon8.png', class: 'img-responsive sankey')
  .row.titles-blocks
    .col-xs-12.col-sm-6.icons
      -@info_pages.each do |info_page|
        .col-xs-6.col-sm-12{class: info_page.alias}
          =link_to get_nav_link(info_page) do
            .col-xs-12.icon
              = image_tag(get_image_by_info_alias(info_page.alias), class: 'img-responsive')
            .col-xs-12.title
              %p
                =get_header_by_locale(info_page)
        -#.col-xs-6.col-sm-12.community
        -#  %a{:href => "#"}
        -#    .col-xs-12.icon
        -#      = image_tag('new_design/icons/!people.png', class: 'img-responsive')
        -#    .col-xs-12.title
        -#      %p Що це дає громаді?
    .col-xs-12.col-sm-6.titles
      .col-xs-12.main-title
        %p
          =t('new_design.home_page.main_title')
      .col-xs-12.text
        %p
          =t('new_design.home_page.text_preamble')
      .col-xs-12.button-search-town
        = text_field_tag 'active_town_select', '', placeholder: t('public.towns.show.choose_town')

:javascript
  $(document).ready(function(){

    // init active block state first element (.pig-block)
    $('.pig-block').addClass('active');
    // call event handler (state 'mouse hover')
    $('.pig-icon a').mouseenter();

    $('.icons-wrapper > div').hover(function(){
    // feature for remove class&tooltip if exist
      if ($('.pig-block').hasClass('active')) {
        $('.pig-block').removeClass('active');
        $('.pig-icon a').tooltip('hide');
      }

      $(this).toggleClass('active');
      $(this).tooltip('toggle');
    });

    // search and go to town
    init_town_select2_with_field_id('#active_town_select',"#{search_for_active_towns_path}")
    $('#active_town_select').on('change',function(){
      window.location.replace("#{public_path('ID')}".replace('ID', $(this).select2('data').id));
    });

  });